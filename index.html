<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hologram â€” minimal</title>
  <style>
    /* Full-black hologram style: only video and small numeric buttons visible */
    html,body{height:100%;margin:0;background:#000;color:#fff;font-family:system-ui,Arial,Helvetica,sans-serif}
    .video-frame{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;overflow:hidden;background:#000}
    video{max-width:90vw;max-height:90vh;width:auto;height:auto;object-fit:contain;display:none}

    /* Small buttons in bottom-left corner, single row INSIDE video-frame so they remain in fullscreen */
    .corner-btns{position:absolute;left:10px;bottom:10px;display:flex;flex-direction:row;gap:8px;align-items:center;z-index:9999;pointer-events:auto}
    .num-btn{width:44px;height:44px;border-radius:6px;border:none;background:#000;color:#fff;font-weight:700;font-size:18px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;opacity:0.95}
    .num-btn:active{transform:scale(0.98)}
    .action-btn{min-width:44px;height:44px;border-radius:6px;border:none;background:#000;color:#fff;font-weight:700;font-size:14px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;opacity:0.95}
    .action-btn:active{transform:scale(0.98)}

    /* Make sure buttons are visible in fullscreen on different browsers */
    :fullscreen .corner-btns, :-webkit-full-screen .corner-btns, :-moz-full-screen .corner-btns { position:fixed; left:10px; bottom:10px; }

    /* Visually hide everything else if accidentally present */
    header,footer,.note,.controls,.raw,.manual,.status{display:none}
  </style>
</head>
<body>
  <div class="video-frame" aria-live="polite">
    <video id="snow" src="snow.mp4" loop muted playsinline preload="auto"></video>
    <video id="cloud" src="cloud.mp4" loop muted playsinline preload="auto"></video>
    <video id="fire" src="fire.mp4" loop muted playsinline preload="auto"></video>
    <video id="moon" src="moon.mp4" loop muted playsinline preload="auto"></video>
    <video id="sun" src="sun.mp4" loop muted playsinline preload="auto"></video>

    <!-- Buttons moved INSIDE video-frame so they remain visible in fullscreen -->
    <div class="corner-btns" aria-hidden="false">
      <button class="num-btn" data-cmd="snow" aria-label="1">1</button>
      <button class="num-btn" data-cmd="cloud" aria-label="2">2</button>
      <button class="num-btn" data-cmd="fire" aria-label="3">3</button>
      <button class="num-btn" data-cmd="moon" aria-label="4">4</button>
      <button class="num-btn" data-cmd="sun" aria-label="5">5</button>

      <button class="action-btn" id="offBtn" aria-label="OFF">OFF</button>
      <button class="action-btn" id="fsBtn" aria-label="Fullscreen">FS</button>
    </div>
  </div>

  <script>
    const videos = {
      snow: document.getElementById('snow'),
      cloud: document.getElementById('cloud'),
      fire: document.getElementById('fire'),
      moon: document.getElementById('moon'),
      sun: document.getElementById('sun')
    };
    const fsBtn = document.getElementById('fsBtn');

    // Hide all videos
    function hideAll(){
      Object.values(videos).forEach(v=>{
        try{ v.pause(); }catch{}
        v.style.display='none';
      });
    }

    // Play video by name
    function play(name){
      name = (name||'').toString().trim().toLowerCase();
      if(!name || name === 'stop' || name === 'none'){
        hideAll();
        return;
      }
      const v = videos[name];
      if(!v) return;
      hideAll();
      v.style.display='block';
      v.currentTime = 0;
      v.muted = false;
      v.play().catch(err=>{
        // autoplay blocked: fallback to muted playback after user interaction
        v.muted = true;
        console.warn('Autoplay blocked:', err);
      });
    }

    // Stop / OFF
    function stopAll(){ hideAll(); }

    // Unlock autoplay on first interaction by briefly playing muted videos
    let unlocked = false;
    function unlockAutoplay(){
      if(unlocked) return;
      unlocked = true;
      Object.values(videos).forEach(v => { v.muted = true; v.play().then(()=>v.pause()).catch(()=>{}); });
    }

    // Button listeners for numbers
    document.querySelectorAll('.num-btn').forEach(b=>{
      b.addEventListener('click', ()=>{ unlockAutoplay(); play(b.dataset.cmd); });
    });

    // OFF button
    document.getElementById('offBtn').addEventListener('click', ()=>{ stopAll(); });

    // Fullscreen toggle: single button for enter/exit fullscreen
    const fsTarget = document.querySelector('.video-frame') || document.documentElement;
    function isFullscreen(){ return !!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement); }
    async function toggleFullscreen(){
      try{
        if(!isFullscreen()){
          if(fsTarget.requestFullscreen) await fsTarget.requestFullscreen();
          else if(fsTarget.webkitRequestFullscreen) await fsTarget.webkitRequestFullscreen();
          else if(fsTarget.mozRequestFullScreen) await fsTarget.mozRequestFullScreen();
          else if(fsTarget.msRequestFullscreen) await fsTarget.msRequestFullscreen();
        } else {
          if(document.exitFullscreen) await document.exitFullscreen();
          else if(document.webkitExitFullscreen) await document.webkitExitFullscreen();
          else if(document.mozCancelFullScreen) await document.mozCancelFullScreen();
          else if(document.msExitFullscreen) await document.msExitFullscreen();
        }
      }catch(err){ console.warn('Fullscreen toggle failed', err); }
    }

    function updateFsButton(){ fsBtn.textContent = isFullscreen() ? 'EXIT' : 'FS'; }
    document.addEventListener('fullscreenchange', updateFsButton);
    document.addEventListener('webkitfullscreenchange', updateFsButton);
    document.addEventListener('mozfullscreenchange', updateFsButton);
    document.addEventListener('MSFullscreenChange', updateFsButton);

    fsBtn.addEventListener('click', async ()=>{ unlockAutoplay(); await toggleFullscreen(); updateFsButton(); });

    // Keyboard support: 1-5 play, 0 stops, f toggles fullscreen
    window.addEventListener('keydown',(e)=>{
      if(document.activeElement && (document.activeElement.tagName==='INPUT' || document.activeElement.tagName==='TEXTAREA')) return;
      if(e.key >= '1' && e.key <= '5'){
        const map = { '1':'snow','2':'cloud','3':'fire','4':'moon','5':'sun' };
        unlockAutoplay(); play(map[e.key]);
      }
      if(e.key === '0') stopAll();
      if(e.key.toLowerCase() === 'f') toggleFullscreen();
    });

    // On load: start with black screen
    window.addEventListener('load', ()=>{
      hideAll(); updateFsButton(); Object.values(videos).forEach(v => v.addEventListener('error', ()=>console.warn('Video load error', v.id))); });
  </script>
</body>
</html>
